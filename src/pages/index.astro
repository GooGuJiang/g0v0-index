---
import BaseLayout from "../layouts/BaseLayout.astro";
import { FiZap, FiCpu, FiUsers, FiShield, FiBookOpen } from 'react-icons/fi';

const LAZER_URL = import.meta.env.PUBLIC_LAZER_URL ?? 'https://lazer.example.com';
const STABLE_URL = import.meta.env.PUBLIC_STABLE_URL ?? 'https://stable.example.com';
---

<BaseLayout title="咕哦！ ">
  <main class="relative overflow-hidden">
    <!-- 背景装饰 -->
    <div class="pointer-events-none select-none absolute inset-0 -z-10">
      <div class="absolute -top-32 -left-32 w-96 h-96 bg-gradient-to-br from-primary/30 to-accent/30 rounded-full blur-3xl opacity-40"></div>
      <div class="absolute top-1/2 right-0 w-[500px] h-[500px] translate-x-1/3 -translate-y-1/2 bg-gradient-to-tr from-accent/20 to-primary/10 rounded-full blur-3xl opacity-50"></div>
    </div>

    <!-- Hero -->
    <section class="mx-auto w-[min(1200px,100%-48px)] grid md:grid-cols-[1.15fr,0.85fr] gap-12 items-center min-h-[74vh] py-16">
      <div>
        <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full text-[12px] font-600 tracking-wide bg-[#ffffff] border border-[#e6eaf2] shadow-sm text-[#64748b] mb-5">
          <FiZap size={14} /> 多模式服务器 (lazer & stable)
        </span>
        <h1 class="m-0 mb-5 text-[clamp(40px,6vw,56px)] leading-[1.05] font-800 tracking-[-1px]">
          <span class="bg-clip-text text-transparent bg-gradient-to-r from-[#0ea5e9] via-primary to-[#6366f1]">咕哦！ </span>
          <span class="block text-[clamp(20px,3vw,28px)] font-600 mt-3 text-[#334155]">为玩家提供全模式 RX / AP 与完整 PP 生态</span>
        </h1>
        <p class="text-[#475569] mt-0 mb-8 leading-relaxed text-[17px] max-w-[640px]">
          标准 / 太鼓 / 接水果 / Mania 全面支持，实时计算与灵活改名，让你的节奏旅程更自由。立即选择你的客户端加入我们。
        </p>
        <div class="flex flex-wrap gap-4">
          <a href="/docs" class="group relative no-underline inline-flex items-center gap-2 text-white bg-primary rounded-lg px-6 py-3 text-[15px] font-600 shadow-[0_6px_20px_-2px_rgba(0,0,0,0.08)] hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 ring-primary/40 transition">
            <FiBookOpen size={18} /> 查看文档
          </a>
          <a href={LAZER_URL} target="_blank" rel="noopener" class="no-underline inline-flex items-center gap-2 text-[#173f40] bg-accent font-700 rounded-lg px-6 py-3 text-[15px] shadow-[0_6px_20px_-2px_rgba(0,0,0,0.08)] hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 ring-accent/40 transition">
            使用 lazer 客户端
          </a>
          <a href={STABLE_URL} target="_blank" rel="noopener" class="no-underline inline-flex items-center gap-2 text-[#173f40] bg-accent font-700 rounded-lg px-6 py-3 text-[15px] shadow-[0_6px_20px_-2px_rgba(0,0,0,0.08)] hover:opacity-95 focus-visible:outline-none focus-visible:ring-2 ring-accent/40 transition">
            使用 stable 客户端
          </a>
        </div>
        <p class="text-[#64748b] mt-8 mb-0 text-[14px] flex items-center gap-3">
          <span class="inline-flex items-center gap-1">
            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
            服务正常运行中
          </span>
          <span class="hidden sm:inline">·</span>
          <span>加入 QQ / Discord 社区获取支持与更新</span>
        </p>
      </div>
      <div class="relative">
        <!-- Floating lazer client preview image (desktop only) -->
        <img
          src="/image/lazer.png"
          alt="osu!lazer 预览"
          width="420"
          height="260"
          draggable="false"
          decoding="async"
          loading="lazy"
          class="hidden md:block absolute -top-105 -right-1 w-[340px] xl:w-[400px] select-none pointer-events-none opacity-95 animate-[heroFloat_10s_ease-in-out_infinite] drop-shadow-xl"
          style="user-select:none;-webkit-user-drag:none;"
        />
        <div class="relative rounded-2xl border border-[#e6eaf2] bg-white/60 backdrop-blur shadow-[0_10px_40px_-8px_rgba(0,0,0,0.08)] p-8 overflow-hidden">
          <div class="absolute -top-8 -right-8 w-40 h-40 bg-primary/20 rounded-full blur-2xl"></div>
          <div class="absolute -bottom-10 -left-10 w-44 h-44 bg-accent/30 rounded-full blur-2xl opacity-80"></div>
          <div class="relative z-10 space-y-6">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-xl bg-primary/15 text-primary flex items-center justify-center">
                <FiCpu size={24} />
              </div>
              <div class="flex-1">
                <h3 class="m-0 mb-1 text-[16px] font-700 text-[#0f172a]">接入方式</h3>
                <p class="m-0 text-[14px] leading-relaxed text-[#64748b]">提供接近官方的游玩环境与统计接口，兼容 lazer / stable。</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-xl bg-accent/30 text-[#173f40] flex items-center justify-center">
                <FiShield size={24} />
              </div>
              <div class="flex-1">
                <h3 class="m-0 mb-1 text-[16px] font-700 text-[#0f172a]">环境贴近官方</h3>
                <p class="m-0 text-[14px] leading-relaxed text-[#64748b]">尽量保持官方判定与更新节奏，便于无缝切换。</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 rounded-xl bg-[#6366f1]/15 text-[#4f46e5] flex items-center justify-center">
                <FiUsers size={24} />
              </div>
              <div class="flex-1">
                <h3 class="m-0 mb-1 text-[16px] font-700 text-[#0f172a]">社区驱动</h3>
                <p class="m-0 text-[14px] leading-relaxed text-[#64748b]">活跃玩家与创作者共建内容与发展方向。</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
    <style>
      @keyframes heroFloat { 0%,100% { transform: translateY(0) rotate(-1deg); } 50% { transform: translateY(-14px) rotate(1deg); } }
    </style>

    <!-- 特性栅格 -->
    <section class="mx-auto w-[min(1200px,100%-48px)] mt-4 mb-20">
      <div class="grid md:grid-cols-3 gap-6">
        <div class="group relative rounded-xl border border-[#e6eaf2] bg-white p-6 hover:shadow-md transition-all">
          <div class="absolute inset-x-0 top-0 h-[3px] bg-gradient-to-r from-primary/0 via-primary/50 to-primary/0 opacity-0 group-hover:opacity-100 transition-opacity"></div>
          <div class="w-10 h-10 rounded-lg bg-primary/15 text-primary flex items-center justify-center mb-4"><FiZap size={20} /></div>
          <h3 class="m-0 mb-2 text-[16px] font-700 text-[#0f172a]">实时统计</h3>
          <p class="m-0 text-[14px] leading-relaxed text-[#64748b]">快速反馈的统计与事件系统，保持游玩沉浸感。</p>
        </div>
        <div class="group relative rounded-xl border border-[#e6eaf2] bg-white p-6 hover:shadow-md transition-all">
          <div class="absolute inset-x-0 top-0 h-[3px] bg-gradient-to-r from-accent/0 via-accent/60 to-accent/0 opacity-0 group-hover:opacity-100 transition-opacity"></div>
          <div class="w-10 h-10 rounded-lg bg-accent/40 text-[#173f40] flex items-center justify-center mb-4"><FiShield size={20} /></div>
          <h3 class="m-0 mb-2 text-[16px] font-700 text-[#0f172a]">数据完整</h3>
          <p class="m-0 text-[14px] leading-relaxed text-[#64748b]">完善记录体系，支持后续拓展与回放工具。</p>
        </div>
        <div class="group relative rounded-xl border border-[#e6eaf2] bg-white p-6 hover:shadow-md transition-all">
          <div class="absolute inset-x-0 top-0 h-[3px] bg-gradient-to-r from-[#6366f1]/0 via-[#6366f1]/50 to-[#6366f1]/0 opacity-0 group-hover:opacity-100 transition-opacity"></div>
          <div class="w-10 h-10 rounded-lg bg-[#6366f1]/20 text-[#4f46e5] flex items-center justify-center mb-4"><FiUsers size={20} /></div>
          <h3 class="m-0 mb-2 text-[16px] font-700 text-[#0f172a]">成长社区</h3>
          <p class="m-0 text-[14px] leading-relaxed text-[#64748b]">玩家共创事件、攻略与玩法拓展。</p>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>
